"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.run=exports.permission=exports.options=void 0;const builders_1=require("@discordjs/builders");exports.options=(new builders_1.SlashCommandBuilder).setName("unmute").setDescription("Размьютить участника.").addUserOption((e=>e.setName("member").setDescription("Участник которому надо снять мьют.").setRequired(!0))).addStringOption((e=>e.setName("reason").setDescription("Причина снятия мьюта."))).toJSON(),exports.permission=1;const run=async e=>{const t=e.options.getMember("member"),r=e.options.getString("reason");return e.guild.me.permissions.has("MODERATE_MEMBERS")?t.moderatable?t.communicationDisabledUntil.getTime()<Date.now()?await e.reply({content:"❌ Этот участник не замьючен.",ephemeral:!0}):void await t.disableCommunicationUntil(0,e.user.tag+(r?`: ${r}`:"")).then((async()=>{await e.reply({content:`✅ ${t} был успешно размьючен.`,allowedMentions:{parse:[]}})})).catch((async t=>{console.error(t),await e.reply({content:"❌ Произошла ошибка.",ephemeral:!0})})):await e.reply({content:"❌ Я не могу модерировать этого участника.",ephemeral:!0}):await e.reply({content:"❌ У меня нет прав на модерирование участников.",ephemeral:!0})};exports.run=run;