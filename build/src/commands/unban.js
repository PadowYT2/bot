"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.run=exports.permission=exports.options=void 0;const builders_1=require("@discordjs/builders");exports.options=(new builders_1.SlashCommandBuilder).setName("unban").setDescription("Разбанить участника.").addUserOption((e=>e.setName("user").setDescription("Пользователь, которого надо разбанить.").setRequired(!0))).toJSON(),exports.permission=1;const database_1=__importDefault(require("../database")),run=async e=>{if(!e.guild.me.permissions.has("BAN_MEMBERS"))return await e.reply({content:"❌ У меня нет прав для просмотра списка / снятия банов.",ephemeral:!0});const t=await e.guild.bans.fetch(),r=await database_1.default.guild(e.guild.id),s=e.options.getUser("user");if(!t.has(s.id))return await e.reply({content:"❌ Этот участник не забанен.",ephemeral:!0}).then((()=>r.removeFromObject("bans",s.id)));await e.guild.bans.remove(s.id).then((async()=>{r.removeFromObject("bans",s.id),await e.reply({content:"✅ Юзер был успешно разбанен.",ephemeral:!0})}))};exports.run=run;