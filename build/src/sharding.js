"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.manager=void 0,require("nodejs-better-console").overrideConsole();const discord_js_1=require("discord.js"),config_1=__importDefault(require("../config"));exports.manager=new discord_js_1.ShardingManager(__dirname+"/bot.js",{token:config_1.default.token,mode:"worker"}),exports.manager.on("shardCreate",(e=>{e.on("message",(r=>{"respawn"==r&&(console.warn(`[Manager] Shard ${e.id} has requested a restart.`),e.respawn())})),console.log(`[Manager] Shard ${e.id} is starting.`)})),config_1.default.port&&require("./web/")(),exports.manager.spawn(),process.on("unhandledRejection",(e=>console.error("[Manager]","unhandledRejection:",e))),process.on("uncaughtException",(e=>console.error("[Manager]","uncaughtException:",e)));