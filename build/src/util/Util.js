"use strict";var __importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};const util_1=require("util"),string_progressbar_1=require("string-progressbar"),pretty_ms_1=__importDefault(require("pretty-ms"));let util=null;class Util{constructor(){if(this.inspect=util_1.inspect,this.wait=t=>new Promise((e=>setTimeout(e,t))),this.func={updatePlayerMessage:async t=>{const e=t.queue.current;let i=t.get("message");if(!i||!i.editable)return;const r=1e3*Math.floor(e.duration/1e3),a=1e3*Math.floor(t.position/1e3),s=[(0,string_progressbar_1.splitBar)(r,a,20)[0]," [",(0,pretty_ms_1.default)(a,{colonNotation:!0,compact:!0})," / ",(0,pretty_ms_1.default)(r,{colonNotation:!0,compact:!0}),"]"].join("");await i.edit({content:null,embeds:[{title:e.title,url:e.uri,thumbnail:{url:e.thumbnail},fields:[{name:"Автор",value:e.author,inline:!0},{name:"Прогресс",value:s}]}]})}},util)return util;util=this}setClient(t){return this._client=t,this}setDatabase(t){return this._database=t,this}setLavaManager(t){return this._lavaManager=t,this}get client(){return this._client}get database(){return this._database}get lava(){return this._lavaManager}}module.exports=new Util;