"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const database_1=__importDefault(require("../database/"));module.exports=async e=>{const a=e.member,t=e.guild;if(!a.manageable||!t.me.permissions.has("MANAGE_ROLES"))return await e.reply({content:"❌ У меня нет прав на изменение ролей.",ephemeral:!0});await e.deferReply({ephemeral:!0}).catch((()=>null));const i=await database_1.default.guild(t.id),{brs:l}=i.get(),s=l[e.customId.slice(3)],o=await e.guild.roles.fetch(s).catch((()=>null));if(!o||o.rawPosition>e.guild.me.roles.highest.rawPosition)return await e.editReply("❌ Роль не была найдена или её позиция выше моей.");a.roles.cache.has(o.id)?await a.roles.remove(o).then((async()=>await e.editReply(`✅ Роль ${o} убрана.`))).catch((async a=>{console.log(a),await e.editReply("❌ Произошла ошибка.")})):await a.roles.add(o).then((async()=>await e.editReply(`✅ Роль ${o} выдана.`))).catch((async a=>{console.log(a),await e.editReply("❌ Произошла ошибка.")}))};