"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const utils_1=require("./utils"),Util_1=__importDefault(require("../util/Util"));function updatePresence(e){e.shard.broadcastEval((e=>e.guilds.cache.size)).then((t=>{const s=t.reduce(((e,t)=>e+t),0);e.user.setPresence({status:"idle",activities:[{type:"PLAYING",name:`500? -> | ${s} guilds`}]}),setTimeout((()=>updatePresence(e)),3e5)}))}function checkBans(e){Promise.all(e.guilds.cache.map((e=>(0,utils_1.checkGuildBans)(e)))).then((()=>setTimeout((()=>checkBans(e)),1e4)))}function updatePlayerMessages(){Promise.all(Util_1.default.lava.players.map((e=>Util_1.default.func.updatePlayerMessage(e)))).then((()=>setTimeout((()=>updatePlayerMessages()),1e4)))}module.exports=e=>{updatePresence(e),checkBans(e),updatePlayerMessages()};